# Frequency Counter Pattern

This pattern uses objects or sets to collect values or frequencies of values. This can often avoid the need for 
nested loops or O(N^2) operations with arrays / strings.

## Example

1. Write a function called same, which accepts two arrays. The function should return true if every value in the array has it's corresponding value squared in the second array. The frequency of values must be the same.

```javascript
same([1,2,3], [4,1,9]) // true
same([1,2,3], [1,9]) // false
same([1,2,1], [4,4,1]) // false (must be same frequency) 
```


### Naive approach - O(N^2)

```javascript
function same(arr1, arr2) {
    if (arr1.length !== arr2.length) return false;
    for (let i = 0; i < arr1.length; i++) {
        let correctIndex = arr2.indexOf(arr1[i] ** 2);
        if (correctIndex ==== -1) {
            return false
        }

        arr2.splice(correctIndex, 1);
    }

    return true;
}
```

### Frequency Counter Pattern - O(n)
Instead of looping over the first array and then checking each value inside a nested loop over the second array, we can loop through each array individually. **Remember that two separate loops are far more efficient than a nested loop. For example, if each array has 1,000 items, two separate loops result in 2,000 iterations, while a nested loop would result in 1,000,000 iterations.**

```javascript
function same(arr1, arr2) {
    if (arr1.length !== arr2.length) {
        return false;
    }
    let frequencyCounter1 = {}
    let frequencyCounter2 = {}
    for (let i = 0; i < arr1.length; i++) {
        if (!frequencyCounter1[arr1[i]]) frequencyCounter1[arr1[i]] = 0;
        frequencyCounter1[arr1[i]]++;
    }
    for (let i = 0; i < arr2.length; i++) {
        if (!frequencyCounter2[arr2[i]]) frequencyCounter2[arr2[i]] = 0;
        frequencyCounter2[arr2[i]]++;
    }
    for (let key in frequencyCounter1) {
        if (!(key ** 2 in frequencyCounter2)) {
            return false;
        }
        if (frequencyCounter1[key] !== frequencyCounter2[key ** 2]) {
            return false;
        }
    }
   return true;
}
```